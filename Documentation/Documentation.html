<!DOCTYPE html>
<!-- saved from url=(0033)http://localhost:6419/#background -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>README.md - Grip</title>
  <link rel="icon" href="http://localhost:6419/__/grip/static/favicon.ico">
  <link rel="stylesheet" href="./Documentation_files/light-83dd85a7ce7efef3332487e09e928562.css">
  <link rel="stylesheet" href="./Documentation_files/github-a6fff4e610f197f9179e0f2ade761813.css">
  <link rel="stylesheet" href="./Documentation_files/frameworks-487c22e570e952641f798df39ac6dcf5.css">
  <link rel="stylesheet" href="./Documentation_files/behaviors-487c25f1f9cba5aa0ea0a4fe5cd705af.css">
  <link rel="stylesheet" href="./Documentation_files/dark-296669110e982427b59cff62e3e550c0.css">
  <link rel="stylesheet" href="./Documentation_files/octicons.css">
  <style>
    /* Page tweaks */
    .preview-page {
      margin-top: 64px;
    }
    /* User-content tweaks */
    .timeline-comment-wrapper > .timeline-comment:after,
    .timeline-comment-wrapper > .timeline-comment:before {
      content: none;
    }
    /* User-content overrides */
    .discussion-timeline.wide {
      width: 920px;
    }
  </style>
</head>
<body>
  <div class="page">
    <div id="preview-page" class="preview-page" data-autorefresh-url="/__/grip/refresh/">

    

      <div role="main" class="main-content">
        <div class="container new-discussion-timeline experiment-repo-nav">
          <div class="repository-content">
            <div id="readme" class="readme boxed-group clearfix announce instapaper_body md">
              
                <h3>
                  <span class="octicon octicon-book"></span>
                  README.md
                </h3>
              
              <article class="markdown-body entry-content" itemprop="text" id="grip-content">
                <h1>
<a id="user-content-cricket-information-system" class="anchor" href="http://localhost:6419/#cricket-information-system" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cricket Information System</h1>
<p><a href="https://camo.githubusercontent.com/f116695412df39ab3c98d8291befdb93af123f56aecc79fff4b20c410a5b54c7/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f726561646d652532307374796c652d7374616e646172642d627269676874677265656e2e7376673f7374796c653d666c61742d737175617265" target="_blank" rel="nofollow"><img src="./Documentation_files/readme style-standard-brightgreen.svg" alt="standard-readme compliant" data-canonical-src="https://img.shields.io/badge/readme%20style-standard-brightgreen.svg?style=flat-square" style="max-width:100%;"></a></p>
<p>This repository contains:</p>
<ul>
<li>A client folder.</li>
<li>Server files.</li>
<li>3 Publisher folders.</li>
<li>Docker file.</li>
<li>Docker compose file for dockerizing all the parts.(7 in all)</li>
</ul>
<h2>
<a id="user-content-table-of-contents" class="anchor" href="http://localhost:6419/#table-of-contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Table of Contents</h2>
<ul>
<li><a href="http://localhost:6419/#background">Background</a></li>
<li><a href="http://localhost:6419/#webstack">WebStack</a></li>
<li><a href="http://localhost:6419/#prerequisites">Prerequisites</a></li>
<li><a href="http://localhost:6419/#currentstatus">CurrentStatus</a></li>
<li><a href="http://localhost:6419/#installation">Installation</a></li>
<li><a href="http://localhost:6419/#working">Working</a></li>
<li><a href="http://localhost:6419/#contributors">Contributing</a></li>
</ul>
<h2>
<a id="user-content-background" class="anchor" href="http://localhost:6419/#background" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Background</h2>
<p>We aim to create a distributed system that notifes the user about various cricketing statistics presently going on. The user will have the flexibilty to choose the type of notifications it desires and the system will only send the relevant information to it.
We will be publishing the app on Docker so that the app is platform independant and can be used ubiquitously.</p>
<h2>
<a id="user-content-webstack" class="anchor" href="http://localhost:6419/#webstack" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>WebStack</h2>
<ul>
<li>Front-End Development: React, Redux, Web Stomp, Web Socket</li>
<li>Back-End Development : Node JS, socket-io, mongoose</li>
<li>Database: MongoDB</li>
<li>Deployment : Docker</li>
<li>Middleware : RabbitMQ</li>
</ul>
<h2>
<a id="user-content-prerequisites" class="anchor" href="http://localhost:6419/#prerequisites" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Prerequisites:</h2>
<ul>
<li><a href="http://nodejs.org/" rel="nofollow">node</a></li>
<li><a href="https://npmjs.com/" rel="nofollow">npm</a></li>
<li><a href="https://www.fastify.io/" rel="nofollow">fastify</a></li>
<li><a href="https://www.npmjs.com/package/fastify-cors" rel="nofollow">fastify-cors</a></li>
<li><a href="https://mongoosejs.com/docs/" rel="nofollow">mongoose</a></li>
<li><a href="https://www.npmjs.com/package/nodemon" rel="nofollow">nodemon</a></li>
<li><a href="https://www.npmjs.com/package/uuid" rel="nofollow">uuid</a></li>
<li><a href="https://reactjs.org/" rel="nofollow">react</a></li>
<li><a href="https://redux.js.org/" rel="nofollow">redux</a></li>
<li><a href="https://axios-http.com/docs/intro" rel="nofollow">axios</a></li>
<li><a href="https://www.highcharts.com/" rel="nofollow">highcharts</a></li>
<li><a href="https://reactjs.org/docs/react-dom.html" rel="nofollow">react-dom</a></li>
<li><a href="https://react-redux.js.org/" rel="nofollow">react-redux</a></li>
<li><a href="https://www.npmjs.com/package/react-scripts" rel="nofollow">react-scripts</a></li>
<li><a href="https://github.com/reduxjs/redux-thunk">redux-thunk</a></li>
<li><a href="https://www.docker.com/" rel="nofollow">docker</a></li>
<li><a href="https://socket.io/" rel="nofollow">socket.io</a></li>
<li><a href="https://www.rabbitmq.com/" rel="nofollow">RabbitMQ</a></li>
</ul>
<h2>
<a id="user-content-currentstatus" class="anchor" href="http://localhost:6419/#currentstatus" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CurrentStatus</h2>
<p><strong>3rd October,2021:</strong> We have created a full architecture of 3 publishers and n number of subscribers that interact with each other in our pub sub model. Our middleware is RabbitMQ(for time and space uncoupling) which serves as queue to transfer messages from the broker node to the client. The client can subscribe to three subscriptions and the data will be displayed in his dashboard. Also there are advertisements that pop up in the middle in each topic that lets user know what other data is being displayed in other topics. The user is given the flexibility to turn off or on the adds as he deems fit. The data transferred by the publisher to the broker is also being transferred to the database. The data is transferred into the database only when there is a change in the data, thus preventing replications. We have also provisioned that advertisements are not pushed in the database.</p>
<h3>
<a id="user-content-architectural-model" class="anchor" href="http://localhost:6419/#architectural-model" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Architectural Model</h3>
<p><a href="./Documentation_files/PubSub.jpg" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/PubSub.jpg" alt="" style="max-width:100%;"></a></p>
<h3>
<a id="user-content-algorithm-workflow" class="anchor" href="http://localhost:6419/#algorithm-workflow" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Algorithm Workflow</h3>
<p><a href="./Documentation_files/flowchart.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/flowchart.png" alt="" style="max-width:100%;"></a></p>
<p><strong>26th September,2021:</strong> We have created a simple CRUD (Create,Read,Update,Delete) app that fetches the data from the database and gives us the relevant values.
We have created a UI where a person is able to see the win percentage of a particular team by clicking on the respective cards. Five API's have been created to create this version.</p>
<h3>
<a id="user-content-backend-status" class="anchor" href="http://localhost:6419/#backend-status" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Backend Status:</h3>
<h4>
<a id="user-content-ports" class="anchor" href="http://localhost:6419/#ports" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ports</h4>
<ul>
<li>Backend: 5000</li>
<li>MongoDb: 27017</li>
<li>RabbitMq: 5672,15672,61613,15674</li>
<li>Publisher1: 5001</li>
<li>Publisher2: 5002</li>
<li>Publisher3: 5003</li>
<li>Websocket: 3004</li>
</ul>
<h4>
<a id="user-content-apis" class="anchor" href="http://localhost:6419/#apis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API's:</h4>
<p><a href="https://docs.sportmonks.com/cricket/" rel="nofollow">SportMonks</a> : An external cricketing API was used to fetch relevant data for the subscriber.</p>
<h4>
<a id="user-content-subscriptions" class="anchor" href="http://localhost:6419/#subscriptions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Subscriptions:</h4>
<ul>
<li>Number of teams in a country: It displays the number of teams in a country.(Uses two api's)</li>
<li>Statistics of Team: Displays the win loss percentage of a team.(Uses two api's)</li>
<li>Umpires per Country: Displays the number of umpires and count per country.(Uses two api's)</li>
</ul>
<h4>
<a id="user-content-database-schema" class="anchor" href="http://localhost:6419/#database-schema" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Database Schema:</h4>
<ul>
<li>The user subscription data base.</li>
</ul>
<pre><code>const userSchema = new mongoose.Schema({
  name: String,
  email: String,
  password: String,
  status: Number,
  subscribedTopicIds: Array,
  receiveAdvertisements: Boolean,
});

</code></pre>
<ul>
<li>The topic data base.</li>
</ul>
<pre><code>  const topicSchema = new mongoose.Schema({
   topicName: String,
   topicDescription: String,
   topicId: String,
   topicData: Array,
   topicStatus: Number,
 });
</code></pre>
<h3>
<a id="user-content-rabbitmq-deployment" class="anchor" href="http://localhost:6419/#rabbitmq-deployment" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>RabbitMQ Deployment</h3>
<p>Rabbit MQ running queues for 3 topics and one advertisement that gets data from all the three topics.</p>
<p><a href="./Documentation_files/11_RabbitMQ.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/11_RabbitMQ.png" alt="" style="max-width:100%;"></a></p>
<h3>
<a id="user-content-docker-deployment" class="anchor" href="http://localhost:6419/#docker-deployment" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Docker Deployment</h3>
<p><a href="./Documentation_files/9_docker.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/9_docker.png" alt="" style="max-width:100%;"></a></p>
<h3>
<a id="user-content-frontend-status" class="anchor" href="http://localhost:6419/#frontend-status" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Frontend Status:</h3>
<h4>
<a id="user-content-ports-1" class="anchor" href="http://localhost:6419/#ports-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ports</h4>
<ul>
<li>Frontend: 3000</li>
</ul>
<h4>
<a id="user-content-features" class="anchor" href="http://localhost:6419/#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h4>
<ul>
<li>A subscriber can create his profile on the page using email address.</li>
<li>A user can login and check the subscriptions available.</li>
<li>The user can subscribe or unsubscribe to the subscriptions.</li>
<li>On clicking the subscribed topics the data will be visible along with advertisements.</li>
<li>User can opt out to recieve advertisements or opt in.</li>
</ul>
<h4>
<a id="user-content-screenshots" class="anchor" href="http://localhost:6419/#screenshots" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Screenshots</h4>
<ul>
<li>
<p>New user registration</p>
<p><a href="./Documentation_files/1_Register.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/1_Register.png" alt="" style="max-width:100%;"></a></p>
</li>
<li>
<p>Logging the new user in</p>
<p><a href="./Documentation_files/2_Login.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/2_Login.png" alt="" style="max-width:100%;"></a></p>
</li>
<li>
<p>Main landing page</p>
<p><a href="./Documentation_files/3_Menu.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/3_Menu.png" alt="" style="max-width:100%;"></a></p>
</li>
<li>
<p>Showing topics that the user can subscribe to</p>
<p><a href="./Documentation_files/4_AvailableSubs.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/4_AvailableSubs.png" alt="" style="max-width:100%;"></a></p>
</li>
<li>
<p>Showing the users subscription.</p>
<p><a href="./Documentation_files/5_YourSubs.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/5_YourSubs.png" alt="" style="max-width:100%;"></a></p>
</li>
<li>
<p>Going to the subscription page of topic one (Teams available in a country) where you can see advertisements and its unsubscribe button</p>
<p><a href="./Documentation_files/6_SubscriptionPage.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/6_SubscriptionPage.png" alt="" style="max-width:100%;"></a></p>
</li>
<li>
<p>Topic 2: Team Win Statistics</p>
<p><a href="./Documentation_files/7_StatsOfTeams.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/7_StatsOfTeams.png" alt="" style="max-width:100%;"></a></p>
</li>
<li>
<p>Topic 3: Umpires By Country</p>
<p><a href="./Documentation_files/8_UmpiresByCountry.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/8_UmpiresByCountry.png" alt="" style="max-width:100%;"></a></p>
</li>
<li>
<p>Advertisement button toggle</p>
<p><a href="./Documentation_files/10_Profile.png" target="_blank" rel="noopener noreferrer"><img src="./Documentation_files/10_Profile.png" alt="" style="max-width:100%;"></a></p>
</li>
</ul>
<h2>
<a id="user-content-installation" class="anchor" href="http://localhost:6419/#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>
<p>The following commands are executed from the root directory.</p>
<div class="highlight highlight-source-shell"><pre> <span class="pl-c1">cd</span> client
 docker build -t cricket-client <span class="pl-c1">.</span>
 <span class="pl-c1">cd</span> ..
 docker build -t cricket-api <span class="pl-c1">.</span>
 <span class="pl-c1">cd</span> Publisher1
 docker build -t cricket-api-publisher-1 <span class="pl-c1">.</span>
 <span class="pl-c1">cd</span> ../Publisher2
 docker build -t cricket-api-publisher-2 <span class="pl-c1">.</span>
 <span class="pl-c1">cd</span> ../Publisher3
 docker build -t cricket-api-publisher-3 <span class="pl-c1">.</span>
 <span class="pl-c1">cd</span> ..
 docker-compose up --remove-orphans</pre></div>
<p>Post RabbitMQ docker deployment, enable Web STOMP by:</p>
<div class="highlight highlight-source-shell"><pre>rabbitmq-plugins <span class="pl-c1">enable</span> rabbitmq_web_stomp</pre></div>
<h2>
<a id="user-content-contributors" class="anchor" href="http://localhost:6419/#contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributors</h2>
<p><a href="https://github.com/webber2408">@RahulSharma</a>.
<a href="https://github.com/Aruvansh1997">@AruvanshNigam</a>.</p>

              </article>
            </div>
          </div>
        </div>
      </div>

    

  </div>
  <div>&nbsp;</div>
  </div><script>
    function showCanonicalImages() {
      var images = document.getElementsByTagName('img');
      if (!images) {
        return;
      }
      for (var index = 0; index < images.length; index++) {
        var image = images[index];
        if (image.getAttribute('data-canonical-src') && image.src !== image.getAttribute('data-canonical-src')) {
          image.src = image.getAttribute('data-canonical-src');
        }
      }
    }

    function scrollToHash() {
      if (location.hash && !document.querySelector(':target')) {
        var element = document.getElementById('user-content-' + location.hash.slice(1));
        if (element) {
           element.scrollIntoView();
        }
      }
    }

    function autorefreshContent(eventSourceUrl) {
      var initialTitle = document.title;
      var contentElement = document.getElementById('grip-content');
      var source = new EventSource(eventSourceUrl);
      var isRendering = false;

      source.onmessage = function(ev) {
        var msg = JSON.parse(ev.data);
        if (msg.updating) {
          isRendering = true;
          document.title = '(Rendering) ' + document.title;
        } else {
          isRendering = false;
          document.title = initialTitle;
          contentElement.innerHTML = msg.content;
          showCanonicalImages();
        }
      }

      source.onerror = function(e) {
        if (e.readyState === EventSource.CLOSED && isRendering) {
          isRendering = false;
          document.title = initialTitle;
        }
      }
    }

    window.onhashchange = function() {
      scrollToHash();
    }

    window.onload = function() {
      scrollToHash();
    }

    showCanonicalImages();

    var autorefreshUrl = document.getElementById('preview-page').getAttribute('data-autorefresh-url');
    if (autorefreshUrl) {
      autorefreshContent(autorefreshUrl);
    }
  </script>

</body></html>